[< Volver al Ã­ndice](../index.md)

# Laughably Simple Pagination

Debido a que se tienen muchos posts la pagina se ve recargada, por lo que a continuacion se indica paso por paso como podemos realizar la paginacion.

- Debemos de modificar el archivo **PostController.php** con el siguiente codigo, donde en vez de tener un get() vamos a obtener los resultados divididos por pagina:

```php
public function index()
    {
        return view('posts.index', [
            'posts' => Post::latest()->filter(
                request(['search', 'category', 'author'])
                )->paginate(6)->withQueryString()

        ]);
    }
```

- En **index.blade.php** se agrega la linea de codigo para incluir los links de las paginas, quedando de la siguiente manera:

```php
@if ($posts->count())
    <x-posts-grid :posts="$posts"/>
        {{ $posts->links() }}
    @else
    <p class="text-center">No posts yet. Please check back later</p>
@endif
```

- Y en **category-dropdown.blade.php** excluimos del querystring pages para que no nos afecte en caso de que se haya realizado algun filtrado de datos o se haya seleccionado una categoria:

```php
<x-dropdown-item href="/?{{ http_build_query(request()->except('category', 'page')) }}"
        :active="request()->routeIs('home')">All
    </x-dropdown-item>

    @foreach ($categories as $category)
        <x-dropdown-item
            href="/?category={{ $category->slug }}&{{ http_build_query(request()->except('category', 'page')) }}"
            :active='request()->is("categories/{$category->slug}")'
        >{{ ucwords($category->name) }}</x-dropdown-item>
    @endforeach
```

- Adicional incluimos el paquete de paginatation de laravel para poder manipularlo, esto con el comando `php artisan vendor:publish` y seleccionamos el numero que aparece en la lista que indique ***laravel-pagination***. Esto nos crea unos archivos en la ruta **resources/components/vendor** donde se puede manipular el estilo de los links de paginacion, utilizando bootstrap, tailwind... 
