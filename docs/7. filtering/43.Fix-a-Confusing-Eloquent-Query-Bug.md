[< Volver al Ã­ndice](../index.md)

# Fix a Confusing Eloquent Query Bug

Al momento de realizar una cosulta filtrando por busqueda y categoria, existia un error que nos daba otro post que no correspondia debido a error de sintaxis en el SQL Query. Por lo anterior se realiza la aiguiente modificacion en el archivo **Post.php**

```php
$query->when($filters['search'] ?? false, fn($query, $search) =>
    $query->where(fn($query) =>
    $query->where('title', 'like', '%' . $search . '%')
        ->orWhere('body', 'like', '%' . $search . '%')
    )
);
```
